// ส่วน fetch ในไฟล์ index.html บน GitHub
fetch(webAppUrl, {
    method: 'POST',
    mode: 'cors', 
    body: JSON.stringify(payload)
})
.then(response => response.text())
.then(result => {
    if (result === "success") {
        Swal.fire({
            title: 'Smart BackOffice',
            text: 'ลงทะเบียนสำเร็จ ยินดีต้อนรับเข้าสู่ระบบค่ะ',
            icon: 'success',
            confirmButtonColor: '#1e3a8a'
        }).then(() => { liff.closeWindow(); });
    } else {
        // แจ้งเตือนในกรณีที่ไม่พบชื่อในรายชื่อที่ได้รับอนุญาต
        Swal.fire({
            title: 'ไม่พบชื่อในระบบ',
            text: 'ขออภัย ชื่อ-นามสกุลนี้ไม่ได้รับอนุญาตให้เข้าใช้งาน กรุณาตรวจสอบการสะกดชื่อ หรือติดต่องานการเงินและพัสดุ',
            icon: 'error',
            confirmButtonColor: '#d33'
        });
        document.getElementById('btnSubmit').disabled = false;
        document.getElementById('btnSubmit').innerText = 'ลงทะเบียนใช้งาน';
    }
})
.catch(err => {
    console.error(err);
    Swal.fire('เกิดข้อผิดพลาด', 'ไม่สามารถเชื่อมต่อระบบได้ กรุณาลองใหม่ภายหลัง', 'error');
});
